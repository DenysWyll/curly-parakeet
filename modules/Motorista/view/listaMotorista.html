<!doctype html>
<html ng-app="listaMotorista">
<head>
   <!-- META -->
   <meta charset="utf-8">
   <!-- Otimizar a exibição em dispositivos móveis -->
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <title>Lista de Motoristas</title>

   <!-- CSS -->
   <!-- Carregando o bootstrap-->
   <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
   <style>
       html                    { overflow-y:scroll; }
       body                    { padding-top:50px; }
       #lista-motoristas         { margin-bottom:30px; }
       form button             { margin-top: 25px; }
       form .form-group:first-child { padding-left: 0; }
   </style>

   <!-- JS -->
   <!-- Carregando a biblioteca jQuery -->
   <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
   <!-- Carregando a biblioteca AngularJS -->
   <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
   <script src="../controller/MotoristaController.js"></script>

</head>
<!-- DEFINE O CONTROLLER E BUSCA TODOS OS CONTATOS -->
<body ng-controller="mainController">
   <div class="container">

       <!-- CABEÇALHO E TOTAL DE CONTATOS -->
       <div class="jumbotron text-center">
           <h1>Lista de Motoristas <span class="label label-info">{{ motoristas.length }}</span></h1>
       </div>

       <!-- FORMULÁRIO PARA CRIARMOS UM NOVO CONTATO -->
        <div id="motorista-form">
        <hr>
            <form>
                <div class="form-group col-md-3">
                    <label for="nomeMotorista">Nome</label>
                    <input type="text" class="form-control" id="nomeMotorista" placeholder="Nome Sobrenome" ng-model="formMotorista.nome">
                </div>
                <div class="form-group col-md-3">
                    <label for="nascMotorista">Data nascimento</label>
                    <input type="text" class="form-control" id="nascMotorista" ng-model="formMotorista.dtNasc">
                </div>
                <div class="form-group col-md-3">
                    <label for="cpfMotorista">CPF</label>
                    <input type="text" class="form-control" id="cpfMotorista" placeholder="Digite apenas os números" ng-model="formMotorista.cpf">
                </div>
                <div class="form-group col-md-3">
                    <!-- createToDo() WILL CREATE NEW TODOS -->
                    <button type="submit" class="btn btn-primary" ng-click="criarMotorista()">Criar</button>
                    <button type="submit" class="btn btn-info" ng-click="atualizarMotorista()">Atualizar</button>
                </div>
            </form>
        </div>
       <!-- LISTA NOSSOS CONTATOS -->
       <div id="lista-motoristas">
           <table class="table table-striped">

               <tr>
                   <th>Nome</th>
                   <th>Nascimento</th>
                   <th>CPF</th>
                   <th>Opções</th>
               </tr>

               <!-- LOOP PARA CARREGAR TODOS OS CONTATOS EM $scope.motoristas -->
               <tr ng-repeat="motorista in motoristas">
                   <td>{{ motorista.nome }}</td>
                   <td>{{ motorista.dtNasc }}</td>
                   <td>{{ motorista.cpf }}</td>
                   <td>
                       <button type="button" class="btn btn-default" ng-click="editarMotorista(motorista._id)">Editar</button>
                       <button type="button" class="btn btn-primary" ng-click="deletarMotorista(motorista._id)">Remover</button>
                   </td>
               </tr>

           </table>
       </div>

   </div>

</body>
</html>